// [1]
// [1, 2]
// [1, 2, 3]
// []
// [2]
: ?test_bagof_1(int[]).

?test_bagof_1(bag) {
    x = 1 .. 3;
    x?;
    x --> bag;
}

?test_bagof_1([]).
?test_bagof_1(bag) {
    bag <-- ( between(1, 3)? );
}

// 1
// 2
// 3
: ?test_bagof_2(int).
?test_bagof_2(x) {
    bagof(x) = [1, 2, 3];
}
?test_bagof_2(x) {
    bagof(x) = [];
}

// [1, 2, 3]
: ?test_sized_bagof(int[]).
?test_sized_bagof(bag) {
    sized_bagof(3, (1 .. 5)?) = bag;
}